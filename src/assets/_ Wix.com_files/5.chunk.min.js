(window.webpackJsonp__wix_bookings_bizmgr_module=window.webpackJsonp__wix_bookings_bizmgr_module||[]).push([[5],{175:function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BiLoggerClientFactory=t.EventCategories=t.createBatchQueue=t.manager=t.setHost=t.factory=void 0;var u=n(283),s=i(n(339)),a=i(n(341));t.factory=function(e){void 0===e&&(e={});var t=e.trackSession||void 0===e.trackSession;return t&&s.track(a.factory,{force:"force"===t}),a.factory(e)},t.setHost=a.setHost,t.manager=u.manager,t.createBatchQueue=u.createBatchQueue,t.EventCategories=a.EventCategories,t.BiLoggerClientFactory=a.BiLoggerClientFactory,t.default={factory:t.factory,setHost:a.setHost,manager:u.manager,createBatchQueue:u.createBatchQueue,EventCategories:a.EventCategories,BiLoggerClientFactory:a.BiLoggerClientFactory}},237:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=t.getWindowIfTop=t.isBackoffice=t.isWebWorker=t.getHost=t.setHost=void 0;var o,r,i=n(271);function u(e){if("undefined"!=typeof window&&window)try{return window.top===window.self?e?e(window):window:null}catch(e){return null}return null}function s(e,t){return void 0===t&&(t=null),"undefined"!=typeof self&&self&&e(self)||t}t.setHost=function(e){o=e},t.getHost=function(e){return void 0===e&&(e=i.DefaultBrand),o||(void 0===r&&(r=s((function(e){return e.location&&e.location.hostname&&(e.location.hostname.match(/\.(wix|editorx)\.com$/)||[])[1]||null}),null)),t=r||i.BrandToHostMap[e]||i.BrandToHostMap[i.DefaultBrand],"frog.".concat(t,".com"));var t},t.isWebWorker=function(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope},t.isBackoffice=function(){return u((function(e){var t=e.document;return i.BackofficeDomains.some((function(e){return-1!==t.location.host.indexOf(e)}))}))},t.getWindowIfTop=u,t.getGlobal=s},258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readCookie=t.sendBeacon=t.getWindowSize=t.getDesktopSize=t.now=void 0,t.now=function(){return"undefined"!=typeof performance&&performance&&performance.now?performance.now():-1},t.getDesktopSize=function(e){var t=e.screen&&e.screen.width||0,n=e.screen&&e.screen.height||0;return"".concat(t,"x").concat(n)},t.getWindowSize=function(e){var t=0,n=0;return e.innerWidth?(t=e.innerWidth,n=e.innerHeight):e.document&&(e.document.documentElement&&e.document.documentElement.clientWidth?(t=e.document.documentElement.clientWidth,n=e.document.documentElement.clientHeight):e.document.body&&e.document.body.clientWidth&&(t=e.document.body.clientWidth,n=e.document.body.clientHeight)),"".concat(t,"x").concat(n)},t.sendBeacon=function(e,t){return!("undefined"==typeof navigator||!navigator||!navigator.sendBeacon)&&navigator.sendBeacon(e,t)},t.readCookie=function(e){if("undefined"==typeof document)return null;for(var t=0,n=document.cookie.split(";");t<n.length;t++){for(var o=n[t].split("="),r=o[0],i=o[1];" "===r[0];)r=r.substr(1);if(r===e)return i}return""}},268:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.name=n.constructor.name,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();e.exports.defined=function(e,t){if(void 0===e)throw new r(t)},e.exports.object=function(e,t){if(void 0!==e&&("object"!==(void 0===e?"undefined":o(e))||Array.isArray(e)||null===e))throw new r(t)},e.exports.ok=function(e,t){if(!e)throw new r(t)},e.exports.func=function(e,t){if(void 0!==e&&"function"!=typeof e)throw new r(t)},e.exports.boolean=function(e,t){if(void 0!==e&&"boolean"!=typeof e)throw new r(t)},e.exports.number=function(e,t){if(void 0!==e&&"number"!=typeof e)throw new r(t)},e.exports.array=function(e,t){if("function"==typeof Array.isArray){if(!Array.isArray(e))throw new r(t)}else if("[object Array]"!==Object.prototype.toString.call(e))throw new r(t)},e.exports.AssertionError=r},269:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var u,s=e[Symbol.iterator]();!(o=(u=s.next()).done)&&(n.push(u.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};var u=n(336),s=n(337),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initilized=!1}return o(e,[{key:"_reset",value:function(){var e=this;this._startTime=Date.now(),this._resolve=null,this._promise=new Promise((function(t){return e._resolve=t}))}},{key:"init",value:function(e,t){var n=this,o=e.delayMs,r=e.maxBatchSize,i=e.useThrottle,a=e.optimizeBatch;this._initilized||(this._maxBatchSize=r,this._optimizeBatch=a,this._queue=[],this._flushHandler=t,this._flushDebounced=i?s((function(){return n.flush()}),o):u((function(){return n.flush()}),o),this._initilized=!0,this._reset())}},{key:"flush",value:function(){if(!this._queue.length)return Promise.resolve();var e=this._queue.splice(0,this._queue.length),t=this._resolve,n=this._startTime;this._reset();var o=function(e,t){return{dt:Date.now()-t,e:e,g:{}}}(e,n);return this._optimizeBatch&&(o=function(e){var t={},n=e.e.length,o=e.e.map((function(e){var n=Object.keys(e.f).map((function(n){var o=e.f[n],r=n+"|"+o;return t[r]=t[r]||0,t[r]++,[n,o,r]}));return i({},e,{f:n})})),u={};return o=o.map((function(e){var o=e.f.reduce((function(e,o){var i=r(o,3),s=i[0],a=i[1],c=i[2];return t[c]===n?u[s]=a:e[s]=a,e}),{});return i({},e,{f:o})})),i({},e,{e:o,g:u})}(o)),this._flushHandler(o).then(t)}},{key:"feed",value:function(e,t){return this._queue.push(function(e,t,n){return{dt:Date.now()-n,f:e,context:t}}(e,t,this._startTime)),this._queue.length===this._maxBatchSize?this.flush():(this._flushDebounced(),this._promise)}}]),e}();e.exports=a},270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.guid=t.buildBiUrl=t.getCookies=void 0;var o=n(258),r=n(237),i=0;t.getCookies=function(e){return Object.keys(e).reduce((function(t,n){var r="string"==typeof e[n]?{name:e[n]}:e[n],i=r.name,u=r.transform,s=(void 0===u?function(e){return e}:u)((0,o.readCookie)(i));return s&&(t[n]=s),t}),{})},t.buildBiUrl=function(e,t,n){var o=e.host,u=void 0===o?"":o,s=e.endpoint,a=void 0===s?"":s;void 0===n&&(n={}),u=(u="function"==typeof u?u():u)||(0,r.getHost)(),a=n.endpoint||a,n.useBatch||(t._=""+(new Date).getTime()+i++);var c=n.useBatch?[]:Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}),[]);return["//".concat(u,"/").concat(a)].concat(c.length?c.join("&"):[]).join("?")},t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},271:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultCommonConfig=t.BrandToHostMap=t.HeadlessHost=t.DefaultBrand=t.EventContextMap=t.BackofficeDomains=t.LoggerVersion=void 0,t.LoggerVersion="2.0.985|C",t.BackofficeDomains=[".wix.com",".editorx.com"],function(e){e.msid="_msid",e.clientId="_client_id",e.uuid="_uuid",e.visitorId="_visitorId",e.siteMemberId="_siteMemberId",e.brandId="_brandId",e.siteBranchId="_siteBranchId",e.ms="_ms",e.lv="_lv",e.isHeadless="_isHeadless"}(t.EventContextMap||(t.EventContextMap={})),t.DefaultBrand="wix",t.HeadlessHost="VIEWER_HEADLESS",t.BrandToHostMap={wix:"wix",editorx:"editorx"},t.DefaultCommonConfig={brand:t.DefaultBrand}},272:function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.APINotSupportedError=t.AssertionError=void 0;var i=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,n}return r(t,e),t}(Error);t.AssertionError=i;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.name=n.constructor.name,n}return r(t,e),t}(Error);t.APINotSupportedError=u},273:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Errors=t.EventCategories=t.PublishMethods=void 0,function(e){e.Auto="auto",e.PostMessage="postMessage",e.Fetch="fetch"}(t.PublishMethods||(t.PublishMethods={})),function(e){e.Essential="essential",e.Functional="functional",e.Analytics="analytics"}(t.EventCategories||(t.EventCategories={})),function(e){e[e.Unsupported=0]="Unsupported"}(t.Errors||(t.Errors={}))},283:function(e,t,n){"use strict";var o=n(332),r=n(284),i=n(285),u=n(269);e.exports.BiLoggerFactory=o,e.exports.BiLogger=r,e.exports.BiLoggerManager=i.BiLoggerManager,e.exports.factory=function(){return new o},e.exports.manager=i.manager,e.exports.createBatchQueue=function(){return new u}},284:function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=n(268),u=n(333),s=u.mapValues,a=u.filterValues,c=n(334),f=n(335),l=n(269),d=n(338),h=d.shouldMuteByCategory,p=d.shouldMuteNonEssentials,v=d.getPolicy,y=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._publishers=t.publishers,this._validators=t.validators||[],this._defaults=t.defaults,this._ownDefaults={},this._events=t.events||{},this._context=n||{},this._defaultValueTimeout=t.defaultValueTimeout||5e3,this._defaultContinueOnFail=t.defaultContinueOnFail||!1,this._onPublisherFailHandler=t.onPublisherFailHandler||e._defaultPublisherFailHandler,this._isMuted=t.isMuted||function(){return!1},this._eventTransformer=t.eventTransformer||function(e){return e},this._payloadTransformer=t.payloadTransformer||function(e){return e},this._consentPolicyGetter=t.consentPolicyGetter||function(){return null},this._nonEssentialDefaults=t.nonEssentialDefaults||{},this._maxBatchSize=t.maxBatchSize||100,this._globalBatchQueue=t.globalBatchQueue}return r(e,[{key:"report",value:function(e){i.defined(e,"Data must be provided"),i.object(e,"Data must be an object");var t=e.src,n=e.evid,r=e.params,u=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["src","evid","params"]);return this.log(o({src:t,evid:n},r),u)}},{key:"log",value:function(e,t,n){var r=this;i.defined(e,"Event object or event key must be provided.");var u=this._extractEventAndContext(e,t,n),s=u.event,a=u.context,c=v(this._consentPolicyGetter),f=o({},this._context,a);if(this._isMuted()||h(c,f.category))return Promise.resolve();if(f.useBatch){var l=this._initQueue(f,c),d=function(e){var t=r._eventTransformer(e,f);return l.feed(t,f)};if(this._globalBatchQueue)return this._getDefaults(this._defaults).then((function(e){var t=o({},e,r._getDynamicNonEssentialDefaults(c),r._getStaticNonEssentialDefaults(c),s,r._getPolicyFields(c,f.category));return d(t)}));var p=o({},this._getDynamicDefaults(this._defaults),this._getDynamicNonEssentialDefaults(c),s,this._getPolicyFields(c,f.category));return d(p)}return this._getDefaults(this._defaults).then((function(e){var t=Object.assign(e,r._getDynamicNonEssentialDefaults(c),r._getStaticNonEssentialDefaults(c),s,r._getPolicyFields(c,f.category));if(!(0===r._validators.length||r._validators.some((function(e){return e.match(t)&&(e.execute(t)||!0)}))))throw new Error("No validator accepted the event. Source: "+t.src+" Evid: "+(t.evid||t.evtId));var n=r._eventTransformer(t,f);return n=r._payloadTransformer(n,f),r._send(n,f)}))}},{key:"flush",value:function(){return this._queue?this._queue.flush():Promise.resolve()}},{key:"updateDefaults",value:function(e){return i.defined(e,"Defaults must be provided"),i.object(e,"Defaults must be an object"),Object.assign(this._ownDefaults,e),this}},{key:"_send",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Promise.all(this._publishers.map((function(r){var i=o({},e);return Promise.resolve().then((function(){return r(i,n)})).catch((function(n){return t._onPublisherFailHandler(n,{publisherName:r.name,payload:e})}))}))).then((function(){}))}},{key:"_extractEventAndContext",value:function(e,t,n){var r=void 0,u={};if("string"!=typeof e)r=e,u=t||u;else{if(!(r=this._events[e]))throw new i.AssertionError("Event with key '"+e+"' not found in event map.");t&&(r=o({},r,t),u=n||u)}return{event:r,context:u}}},{key:"_initQueue",value:function(e,t){var n=this;if(this._queue)return this._queue;this._queue=this._globalBatchQueue||new l;return this._queue.init({batchDelay:!0===e.useBatch?300:e.useBatch,maxBatchSize:this._maxBatchSize,useThrottle:!!this._globalBatchQueue,optimizeBatch:!!this._globalBatchQueue},(function(o){n._globalBatchQueue||(o.g=Object.assign(n._getStaticDefaults(n._defaults),n._getStaticNonEssentialDefaults(t)));var r=n._payloadTransformer(o,e);return n._send(r,e)})),this._queue}},{key:"_handleDefaultsError",value:function(e){return this._defaultContinueOnFail?(f.error(e),null):Promise.reject(e)}},{key:"_getDynamicNonEssentialDefaults",value:function(e){if(!p(e))return this._getDynamicDefaults(this._nonEssentialDefaults)}},{key:"_getStaticNonEssentialDefaults",value:function(e){if(!p(e))return this._getStaticDefaults(this._nonEssentialDefaults)}},{key:"_withOwnDefaults",value:function(e){return Object.assign({},e,this._ownDefaults)}},{key:"_getDynamicDefaults",value:function(e){e=this._withOwnDefaults(e);var t=a(e,(function(e){return"function"==typeof e}));return s(t,(function(e){return e()}))}},{key:"_getStaticDefaults",value:function(e){return e=this._withOwnDefaults(e),a(e,(function(e){return"function"!=typeof e}))}},{key:"_getDefaults",value:function(e){var t=this;if(!(e=this._withOwnDefaults(e)))return Promise.resolve({});var n=s(e,(function(e,n){if("function"==typeof e)try{e=e()}catch(e){return t._handleDefaultsError(e)}return e&&"function"==typeof e.then?c.timedPromise(e,{message:"Cannot get default value '"+n+" for BI Event'",timeout:t._defaultValueTimeout}).catch((function(e){return t._handleDefaultsError(e)})):e}));return c.allAsObject(n)}},{key:"_encodePolicyValue",value:function(e,t){return e?"boolean"==typeof e[t]?e[t]?1:0:e[t]:1}},{key:"_getPolicyFields",value:function(e,t){return{_isca:this._encodePolicyValue(e,"analytics"),_iscf:this._encodePolicyValue(e,"functional"),_ispd:e.__default?1:0,_ise:"essential"===t?1:0}}}],[{key:"_defaultPublisherFailHandler",value:function(e,t){return t.publisherName}}]),e}();e.exports=y},285:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var r=n(268),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}return o(e,[{key:"reset",value:function(){this._handlers=[]}},{key:"onLoggerCreated",value:function(e){var t=this;return r.defined(e,"Handler must be provided."),r.func(e,"Handler must be a function."),this._handlers.push(e),function(){var n=t._handlers.indexOf(e);-1!==n&&t._handlers.splice(n,1)}}},{key:"notifyLoggerCreated",value:function(e){this._handlers.forEach((function(t){return t(e)}))}}]),e}();e.exports={manager:new i,BiLoggerManager:i}},286:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var o={policy:"getCurrentConsentPolicy",header:"_getConsentPolicyHeader",isMethod:!0},r={policy:"consentPolicy",header:"consentPolicyHeader",isMethod:!1},i={essential:!0,dataToThirdParty:!0,advertising:!0,functional:!0,analytics:!0}},287:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWixHost=t.getBranchId=t.getBrand=t.getCommonConfigValue=void 0;var o=n(237),r=n(271);t.getCommonConfigValue=function(e,t){return void 0===t&&(t=(0,o.getGlobal)((function(e){return e.Wix&&e.Wix.Utils&&e.Wix.Utils.commonConfig||e.commonConfig}))),(t=t&&"function"==typeof t.getAll?t.getAll():t)&&void 0!==t[e]?t[e]:r.DefaultCommonConfig[e]};t.getBrand=function(e){return(0,t.getCommonConfigValue)("brand",e())};t.getBranchId=function(e){return(0,t.getCommonConfigValue)("branchId",e())};t.getWixHost=function(e){return(0,t.getCommonConfigValue)("host",e())}},332:function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();var i=n(268),u=n(284),s=n(285),a=n(269),c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._publishers=[],this._validators=[],this._defaults={},this._nonEssentialDefaults={},this._events={},this._isMuted=!1,this._eventTransformer=null,this._payloadTransformer=null,this._consentPolicyGetter=null,this._maxBatchSize=null,this._batchQueue=null}return r(e,[{key:"addPublisher",value:function(e){return i.defined(e,"Publisher must be provided"),i.ok("function"==typeof e,"Expected a publisher function"),this._publishers.push(e),this}},{key:"addValidator",value:function(e){return i.defined(e,"Validator must be provided"),i.ok("object"===(void 0===e?"undefined":o(e))&&e,"Expected a validator object"),i.ok(e.execute&&e.match,"Provided validator does not match the interface"),this._validators.push(e),this}},{key:"setDefaults",value:function(e){return i.defined(e,"Defaults must be provided"),i.object(e,"Defaults must be an object"),this._defaults=e,this}},{key:"updateDefaults",value:function(e){return i.defined(e,"Defaults must be provided"),i.object(e,"Defaults must be an object"),Object.assign(this._defaults,e),this}},{key:"updateNonEssentialDefaults",value:function(e){return i.defined(e,"Non-essential Defaults must be provided"),i.object(e,"Non-essential Defaults must be an object"),Object.assign(this._nonEssentialDefaults,e),this}},{key:"setEvents",value:function(e){return i.defined(e,"Events must be provided"),i.object(e,"Events must be an object"),this._events=e,this}},{key:"setDefaultValueTimeout",value:function(e){return i.defined(e,"Default Value Timeout must be provided"),this._defaultValueTimeout=e,this}},{key:"setDefaultContinueOnFail",value:function(e){return i.defined(e,"Default Continue On Fail must be provided"),this._defaultContinueOnFail=e,this}},{key:"setPublisherFailHandler",value:function(e){return i.defined(e,"Publisher Fail Handler must be provided"),this._onPublisherFailHandler=e,this}},{key:"setMuted",value:function(e){return i.defined(e,"Is Muted must be provided"),i.boolean(e,"Is Muted must be a boolean"),this._isMuted=e,this}},{key:"setMaxBatchSize",value:function(e){return i.defined(e,"Max Batch Size must be provided"),i.number(e,"Max Batch Size must be a number"),i.ok(e>0,"Max Batch Size must be higher than 0"),this._maxBatchSize=e,this}},{key:"setGlobalBatchQueue",value:function(e){return i.defined(e,"Global Batch Queue must be provided"),i.ok(e instanceof a,"Global Batch Queue must be an instance of BatchQueue"),this._globalBatchQueue=e,this}},{key:"withEventTransformer",value:function(e){return i.defined(e,"Event Transformer must be provided"),i.func(e,"Event Transformer must be a function"),this._eventTransformer=e,this}},{key:"withPayloadTransformer",value:function(e){return i.defined(e,"Payload Transformer must be provided"),i.func(e,"Payload Transformer must be a function"),this._payloadTransformer=e,this}},{key:"withConsentPolicyGetter",value:function(e){return i.defined(e,"Consent Policy Getter must be provided"),i.func(e,"Consent Policy Getter must be a function"),this._consentPolicyGetter=e,this}},{key:"logger",value:function(e){var t=this,n=new u({publishers:this._publishers,validators:this._validators,defaults:this._defaults,events:this._events,defaultValueTimeout:this._defaultValueTimeout,defaultContinueOnFail:this._defaultContinueOnFail,onPublisherFailHandler:this._onPublisherFailHandler,isMuted:function(){return t._isMuted},eventTransformer:this._eventTransformer,payloadTransformer:this._payloadTransformer,consentPolicyGetter:this._consentPolicyGetter,nonEssentialDefaults:this._nonEssentialDefaults,maxBatchSize:this._maxBatchSize,globalBatchQueue:this._globalBatchQueue},e);return s.manager.notifyLoggerCreated(n),n}}]),e}();e.exports=c},333:function(e,t,n){"use strict";e.exports.mapValues=function(e,t){return e?Object.keys(e).reduce((function(n,o){return n[o]=t(e[o],o,e),n}),{}):{}},e.exports.filterValues=function(e,t){return e?Object.keys(e).reduce((function(n,o){return t(e[o],o,e)&&(n[o]=e[o]),n}),{}):{}}},334:function(e,t,n){"use strict";e.exports.timedPromise=function(e,t){var n=t.message,o=t.timeout,r=new Promise((function(e,t){setTimeout(t,o,n?"Timeout: "+n:"Timeout")}));return Promise.race([e,r])},e.exports.allAsObject=function(e){var t=Object.keys(e);return Promise.all(t.map((function(t){return e[t]}))).then((function(e){return e.reduce((function(e,n,o){return e[t[o]]=n,e}),{})}))}},335:function(e,t,n){"use strict";e.exports={error:function(){var e;console&&console.error&&(e=console).error.apply(e,arguments)}}},336:function(e,t,n){"use strict";e.exports=function(e,t,n){var o=void 0;return function(){var r=this,i=arguments,u=function(){o=null,n||e.apply(r,i)},s=n&&!o;clearTimeout(o),o=setTimeout(u,t),s&&e.apply(r,i)}}},337:function(e,t,n){"use strict";e.exports=function(e,t){var n=void 0;return function(){for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];n||(n=setTimeout((function(){e.apply(void 0,r),n=null}),t))}}},338:function(e,t,n){"use strict";var o={functional:!0,analytics:!0,__default:!0},r=function(e){return!1===e.functional||!1===e.analytics};e.exports={shouldMuteNonEssentials:r,shouldMuteByCategory:function(e,t){return"essential"!==t&&("functional"===t||"analytics"===t?!1===e[t]:r(e))},getPolicy:function(e){return"function"==typeof e&&e()||o}}},339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.track=void 0;var o=n(270),r=n(340),i=n(237),u=n(258);function s(e){var t=function(e){return e({endpoint:"p"}).updateDefaults({src:19,evid:3,vsi:(0,o.guid)()}).logger()}(e),n=1;(0,r.listen)((function(e,o){var r=(0,i.getWindowIfTop)((function(e){return{sr:(0,u.getDesktopSize)(e),wr:(0,u.getWindowSize)(e)}})),s=r.sr,a=r.wr;t.log({from:e,to:o,fis:n,sr:s,wr:a}),n=0}))}t.track=function(e,t){void 0===t&&(t={force:!1}),(t.force||!(0,i.isWebWorker)()&&(0,i.isBackoffice)()&&(0,i.getWindowIfTop)((function(e){return!e.__isTrackingPageViews__})))&&((0,i.getWindowIfTop)((function(e){return e.__isTrackingPageViews__=!0})),s(e))}},340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listen=void 0;var o=n(237);function r(e){setTimeout((function(){return(0,o.getWindowIfTop)((function(t){return e(t.location.href)}))}))}function i(e){(0,o.getWindowIfTop)((function(t){var n=t.history;return["pushState","replaceState"].forEach((function(t){!function(e,t,n){if(e&&e[t]){var o=e[t];e[t]=function(){return n.apply(null,arguments),o.apply(e,arguments)}}}(n,t,(function(t,n,o){return e(o)}))}))}))}function u(e){(0,o.getWindowIfTop)((function(t){return t.addEventListener("popstate",(function(){return e(t.location.href)}))}))}t.listen=function(e){(0,o.getWindowIfTop)((function(t){var n=t.document.referrer;[r,i,u].forEach((function(t){return t((function(t){e(n,t),n=t}))}))}))}},341:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BiLoggerClientFactory=t.createBatchQueue=t.manager=t.factory=t.Factory=t.setHost=t.EventCategories=t.PublishMethods=void 0;var s=n(283),a=n(342),c=u(n(344)),f=n(345),l=n(287),d=n(237),h=n(273),p=n(347),v=n(273);Object.defineProperty(t,"PublishMethods",{enumerable:!0,get:function(){return v.PublishMethods}}),Object.defineProperty(t,"EventCategories",{enumerable:!0,get:function(){return v.EventCategories}});var y=n(237);Object.defineProperty(t,"setHost",{enumerable:!0,get:function(){return y.setHost}});var b=function(){function e(t){void 0===t&&(t={}),this.options=t,this.commonConfigGetter=function(){},this.initialized=!1,c.ok(!t.publishMethod||-1!==Object.keys(h.PublishMethods).map((function(e){return h.PublishMethods[e]})).indexOf(t.publishMethod),'Unsupported publish method "'.concat(t.publishMethod,'"')),e.consentPolicyAccessor=e.consentPolicyAccessor||new a.ConsentPolicyAccessor,this.loggerClientFactory=(0,s.factory)()}return e.prototype.initFactory=function(){var t=this;if(this.initialized)return this.loggerClientFactory;this.initialized=!0,this.updateDefaults((0,p.getCommonDefaults)(this.commonConfigGetter,e.consentPolicyAccessor)),this.withUserContext((0,p.getUserDefaults)());var n=o(o({},this.options),{host:this.options.host||function(){return(0,d.getHost)((0,l.getBrand)(t.commonConfigGetter))}}),r=(0,f.getPublisher)(n,this.publishFunctions),i=(0,f.getTransformers)(n,this.transformer),u=i.eventTransformer,s=i.payloadTransformer,a=this.loggerClientFactory.addPublisher(r).withConsentPolicyGetter((function(){return e.consentPolicyAccessor.getCurrentConsentPolicy()}));return u&&a.withEventTransformer(u),s&&a.withPayloadTransformer(s),a},e.prototype.withTransformer=function(e){return c.defined(e,"Transformer must be provided"),c.ok("function"==typeof e||e&&"function"==typeof e[h.PublishMethods.PostMessage],"Valid transformer must be provided"),this.transformer=e,this},e.prototype.withPublishFunction=function(e){return c.defined(e,"Publish functions object must be provided"),c.ok(this.options.publishMethod&&this.options.publishMethod!==h.PublishMethods.Auto,"Publish function can be used only when using a custom publish method"),c.ok(e&&"function"==typeof e[this.options.publishMethod],"Valid publish function must be provided"),this.publishFunctions=e,this},e.prototype.withUserContext=function(e){return c.defined(e,"User context object must be provided"),this.updateDefaults((0,p.transformDefaults)(e)),this},e.prototype.withUoUContext=function(e){return c.defined(e,"UoU context object must be provided"),this.updateDefaults((0,p.transformDefaults)(e)),this},e.prototype.withNonEssentialContext=function(e){return c.defined(e,"Non-essential context object must be provided"),this.loggerClientFactory.updateNonEssentialDefaults((0,p.transformDefaults)(e)),this},e.prototype.withCommonConfigGetter=function(e){return c.defined(e,"Common config getter must be provided"),c.ok("function"==typeof e,"Common config getter must be a function"),this.commonConfigGetter=e,this},e.prototype.updateDefaults=function(e){return this.loggerClientFactory.updateDefaults(e),this},e.prototype.setMuted=function(e){return this.loggerClientFactory.setMuted(e),this},e.prototype.setEvents=function(e){return this.loggerClientFactory.setEvents(e),this},e.prototype.setGlobalBatchQueue=function(e){return this.loggerClientFactory.setGlobalBatchQueue(e),this},e.prototype.onError=function(e){return this.loggerClientFactory.setPublisherFailHandler(e),this},e.prototype.logger=function(e){void 0===e&&(e={});var t=this.options,n=t.endpoint,r=t.useBatch;return this.initFactory().logger(o({endpoint:n,useBatch:r},e))},e}();t.Factory=b;t.factory=function(e){return void 0===e&&(e={}),new b(e)},t.manager=s.manager,t.createBatchQueue=s.createBatchQueue,t.BiLoggerClientFactory=s.BiLoggerFactory},342:function(e,t,n){"use strict";n.r(t),n.d(t,"ConsentPolicyAccessor",(function(){return i}));var o=n(343),r=n(286),i=function(){function e(e){e&&(this.env=e),this.consentPolicyAccess=Object(o.a)(this.env)}return e.prototype.clearReference=function(){this.consentPolicyAccess&&this.consentPolicyAccess.deleteReference&&(this.consentPolicyAccess=void 0)},e.prototype.getCurrentConsentPolicy=function(){this.consentPolicyAccess||(this.consentPolicyAccess=Object(o.a)(this.env));var e=this.consentPolicyAccess&&this.consentPolicyAccess.getCurrentConsentPolicy()||r.a;return this.clearReference(),e.policy?e.policy:e},e.prototype.getConsentPolicyHeader=function(e){void 0===e&&(e=!1),this.consentPolicyAccess||(this.consentPolicyAccess=Object(o.a)(this.env));var t=this.consentPolicyAccess&&this.consentPolicyAccess._getConsentPolicyHeader()||{"consent-policy":""};return this.clearReference(),e?t["consent-policy"]:t},e}()},343:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var o,r=n(286);function i(){return window}function u(){return self}function s(){return e}function a(){return globalThis}function c(e){var t;void 0===e&&(e=void 0),e&&(o=e),o||e||([a,s,u,i].forEach((function(e){try{o||(o=e())}catch(e){}})),o=o);try{"object"==typeof o.commonConfig&&o.commonConfig.consentPolicy&&(t=f(o.commonConfig,r.c)),t||"object"!=typeof o.consentPolicyManager||(t=f(o.consentPolicyManager,r.b)),t||"object"!=typeof o.Wix||"object"!=typeof o.Wix.Utils||"function"!=typeof o.Wix.Utils.getCurrentConsentPolicy||(t=f(o.Wix.Utils,r.b))}catch(e){}return t}function f(e,t){return{getCurrentConsentPolicy:function(){var n=e[t.policy];return t.isMethod?n():n},_getConsentPolicyHeader:function(){var n=e[t.header];return t.isMethod?n():n},deleteReference:!t.isMethod}}}).call(this,n(35))},344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ok=t.object=t.defined=void 0;var o=n(272);t.defined=function(e,t){if(void 0===e)throw new o.AssertionError(t)};t.object=function(e,t){if(void 0!==e&&("object"!=typeof e||Array.isArray(e)||null===e))throw new o.AssertionError(t)};t.ok=function(e,t){if(!e)throw new o.AssertionError(t)}},345:function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__rest||function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.getTransformers=t.getPublisher=t.postMessagePublisher=t.xhrPublisher=t.fetchPublisher=t.beaconPublisher=t.imagePublisher=t.resolvePublisher=void 0;var i=n(270),u=n(237),s=n(272),a=n(273),c=n(346),f=function(e){return e.useBatch?"POST":"GET"};function l(e){return void 0===e&&(e={}),function(t,n){void 0===n&&(n={});var o=(0,i.buildBiUrl)(e,t,n);return(0,c.beaconTransport)(o,t,!!n.useBatch).catch((function(){var e=f(n);return n.useBatch?(0,c.fetchTransport)(o,t,e).catch((function(n){return n instanceof s.APINotSupportedError?(0,c.xhrTransport)(o,t,e):Promise.reject(n)})):(0,c.pixelTransport)(o,n.image)}))}}function d(e,t){return void 0===e&&(e={}),function(n,o){void 0===o&&(o={});var r=(0,i.buildBiUrl)(e,n,o),u=f(o);return(0,c.fetchTransport)(r,n,u,t).catch((function(e){return e instanceof s.APINotSupportedError?(0,c.xhrTransport)(r,n,u):Promise.reject(e)}))}}function h(e,t){return void 0===e&&(e={}),function(e){return(0,c.postMessageTransport)(e,t)}}t.resolvePublisher=function(e,t){var n,o;return e.publishMethod===a.PublishMethods.PostMessage?(n=h,o=t&&t[a.PublishMethods.PostMessage]):e.publishMethod===a.PublishMethods.Fetch?(n=d,o=t&&t[a.PublishMethods.Fetch]):n=(0,u.isWebWorker)()?d:l,n(e,o)},t.imagePublisher=function(e){return void 0===e&&(e={}),function(t,n){if(void 0===n&&(n={}),n.useBatch)throw new s.APINotSupportedError("Can't use image publisher to send batched events.");var o=(0,i.buildBiUrl)(e,t,n);return(0,c.pixelTransport)(o,n.image)}},t.beaconPublisher=l,t.fetchPublisher=d,t.xhrPublisher=function(e){return void 0===e&&(e={}),function(t,n){void 0===n&&(n={});var o=(0,i.buildBiUrl)(e,t,n),r=f(n);return(0,c.xhrTransport)(o,t,r)}},t.postMessagePublisher=h,t.getPublisher=function(e,n){return(0,t.resolvePublisher)(e,n)};t.getTransformers=function(e,t){var n,i;t&&("function"!=typeof t&&t.postMessage&&e.publishMethod===a.PublishMethods.PostMessage?i=t.postMessage:"function"==typeof t&&(n=t));return{eventTransformer:n,payloadTransformer:function(t,n){if(n.useBatch){var u=function(t){return(null==t?void 0:t.endpoint)||n.endpoint||e.endpoint};t.e=t.e.map((function(e){var t=e.context,n=r(e,["context"]);return o(o({},n),{f:o(o({},n.f),{_rp:u(t)})})}))}return i?i(t):t}}}},346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postMessageTransport=t.xhrTransport=t.fetchTransport=t.pixelTransport=t.beaconTransport=void 0;var o=n(258),r=n(272);t.beaconTransport=function(e,t,n){return void 0===n&&(n=!1),new Promise((function(r,i){return(0,o.sendBeacon)(e,n?JSON.stringify(t):void 0)?r():i(new Error("Transport Error: Cannot send bi using beacon"))}))},t.pixelTransport=function(e,t){return new Promise((function(n,o){var r=t||new window.Image(0,0);r.onload=function(){return n()},r.onerror=function(){return o(new Error("Transport Error: Cannot send bi using pixel"))},r.src=e}))},t.fetchTransport=function(e,t,n,o){if(void 0===n&&(n="GET"),void 0===o){if("undefined"==typeof fetch)return Promise.reject(new r.APINotSupportedError("fetch"));o=fetch}var i={method:n,credentials:"include"};return"POST"===n?i.body=JSON.stringify(t):i.keepalive=!0,o(e,i).then((function(e){if(!e.ok)throw Error("Transport Error: Cannot send bi using fetch. Status: ".concat(e.status))}))},t.xhrTransport=function(e,t,n){return void 0===n&&(n="GET"),new Promise((function(o,r){var i=new XMLHttpRequest;i.open(n,"".concat(location.protocol).concat(e)),i.onload=o,i.onerror=function(){r(new Error("Transport Error: Cannot send bi using xhr."))},i.withCredentials=!0,"POST"===n?i.send(JSON.stringify(t)):i.send()}))},t.postMessageTransport=function(e,t){void 0===t&&(t=self.postMessage);var n=[e];return"undefined"==typeof WorkerGlobalScope&&n.push("*"),t.apply(self,n)}},347:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCommonDefaults=t.getUserDefaults=t.transformDefaults=void 0;var o=n(271),r=n(258),i=n(287),u=n(270);t.transformDefaults=function(e){return Object.keys(e).reduce((function(t,n){var r=o.EventContextMap[n]||n;return o.EventContextMap[n]&&void 0!==e[n]?t[r]=e[n]:t[n]=e[n],t}),{})};t.getUserDefaults=function(){return(0,u.getCookies)({clientId:"_wixCIDX",uuid:{name:"_wixUIDX",transform:function(e){return"string"==typeof e&&e.split("|")[1]}}})};t.getCommonDefaults=function(e,n){return(0,t.transformDefaults)({brandId:function(){return(0,i.getBrand)(e)},siteBranchId:function(){return(0,i.getBranchId)(e)},ms:function(){return Math.round((0,r.now)())},isHeadless:function(){return s(e)},lv:o.LoggerVersion})};var s=function(e){return(0,i.getWixHost)(e)===o.HeadlessHost||void 0}}}]);
//# sourceMappingURL=5.chunk.min.js.map